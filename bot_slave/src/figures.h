#include "bot.h"

extern Bot bot;
// circle of radius 25 mm
double cirPoints[20][2] = {{15.0, 100.0},
                            {16.2, 92.3},
                            {19.8, 85.3},
                            {25.3, 79.8},
                            {32.3, 76.2},
                            {40.0, 75.0},
                            {47.7, 76.2},
                            {54.7, 79.8},
                            {60.2, 85.3},
                            {63.8, 92.3},
                            {65.0, 100.0},
                            {63.8, 107.7},
                            {60.2, 114.7},
                            {54.7, 120.2},
                            {47.7, 123.8},
                            {40.0, 125.0},
                            {32.3, 123.8},
                            {25.3, 120.2},
                            {19.8, 114.7},
                            {16.2, 107.7}};

double usableSpace[4][2] = {{75, 60},
                           {-75, 60},
                           {-75, 140},
                           {75, 140}};

double sgementedLine[28][2] = {{75, 80},
                             {70, 80},
                             {65, 80},
                             {60, 80},
                             {55, 80},
                             {50, 80},
                             {45, 80},
                             {40, 80},
                             {35, 80},
                             {30, 80},
                             {25, 80},
                             {20, 80},
                             {15, 80},
                             {10, 80},
                             {5, 80},
                             {0, 80},
                             {-5, 80},
                             {-10, 80},
                             {-15, 80},
                             {-20, 80},
                             {-25, 80},
                             {-30, 80},
                             {-35, 80},
                             {-40, 80},
                             {-45, 80},
                             {-50, 80},
                             {-55, 80},
                             {-60, 80}};


double tactoegrid[100][2]= {{-30.0, 110.0},
                            {-27.5, 110.0},
                            {-25.0, 110.0},
                            {-22.5, 110.0},
                            {-20.0, 110.0},
                            {-17.5, 110.0},
                            {-15.0, 110.0},
                            {-12.5, 110.0},
                            {-10.0, 110.0},
                            {-7.5, 110.0},
                            {-5.0, 110.0},
                            {-2.5, 110.0},
                            {0.0, 110.0},
                            {2.5, 110.0},
                            {5.0, 110.0},
                            {7.5, 110.0},
                            {10.0, 110.0},
                            {12.5, 110.0},
                            {15.0, 110.0},
                            {17.5, 110.0},
                            {20.0, 110.0},
                            {22.5, 110.0},
                            {25.0, 110.0},
                            {27.5, 110.0},
                            {30.0, 110.0},
                            {30.0, 90.0},
                            {27.5, 90.0},
                            {25.0, 90.0},
                            {22.5, 90.0},
                            {20.0, 90.0},
                            {17.5, 90.0},
                            {15.0, 90.0},
                            {12.5, 90.0},
                            {10.0, 90.0},
                            {7.5, 90.0},
                            {5.0, 90.0},
                            {2.5, 90.0},
                            {0.0, 90.0},
                            {-2.5, 90.0},
                            {-5.0, 90.0},
                            {-7.5, 90.0},
                            {-10.0, 90.0},
                            {-12.5, 90.0},
                            {-15.0, 90.0},
                            {-17.5, 90.0},
                            {-20.0, 90.0},
                            {-22.5, 90.0},
                            {-25.0, 90.0},
                            {-27.5, 90.0},
                            {-30.0, 90.0},
                            {-10.0, 70.0},
                            {-10.0, 72.5},
                            {-10.0, 75.0},
                            {-10.0, 77.5},
                            {-10.0, 80.0},
                            {-10.0, 82.5},
                            {-10.0, 85.0},
                            {-10.0, 87.5},
                            {-10.0, 90.0},
                            {-10.0, 92.5},
                            {-10.0, 95.0},
                            {-10.0, 97.5},
                            {-10.0, 100.0},
                            {-10.0, 102.5},
                            {-10.0, 105.0},
                            {-10.0, 107.5},
                            {-10.0, 110.0},
                            {-10.0, 112.5},
                            {-10.0, 115.0},
                            {-10.0, 117.5},
                            {-10.0, 120.0},
                            {-10.0, 122.5},
                            {-10.0, 125.0},
                            {-10.0, 127.5},
                            {-10.0, 130.0},
                            {10.0, 130.0},
                            {10.0, 127.5},
                            {10.0, 125.0},
                            {10.0, 122.5},
                            {10.0, 120.0},
                            {10.0, 117.5},
                            {10.0, 115.0},
                            {10.0, 112.5},
                            {10.0, 110.0},
                            {10.0, 107.5},
                            {10.0, 105.0},
                            {10.0, 102.5},
                            {10.0, 100.0},
                            {10.0, 97.5},
                            {10.0, 95.0},
                            {10.0, 92.5},
                            {10.0, 90.0},
                            {10.0, 87.5},
                            {10.0, 85.0},
                            {10.0, 82.5},
                            {10.0, 80.0},
                            {10.0, 77.5},
                            {10.0, 75.0},
                            {10.0, 72.5},
                            {10.0, 70.0}};

// FUNCTIONS -> they should be on Bot .cpp/.h

void circle(double vel=100.0){
  bot.move_motor_linear(cirPoints[0][0], cirPoints[0][1], vel);
  bot.pen_down();
  for (int i=1; i< 20; i++){
    bot.move_motor_linear_no_accel(cirPoints[i][0], cirPoints[i][1], vel);
  }
  bot.move_motor_linear(cirPoints[0][0], cirPoints[0][1], vel);
  bot.pen_up();
  bot.go_home();
}

void followCoords(double arr[][2], int size, double vel=100.0){
    bot.move_motor_linear_no_accel(arr[0][0], arr[0][1], vel);
    bot.pen_down();
    for (int i=1; i<size; i++){
      bot.move_motor_linear_no_accel(arr[i][0], arr[i][1], vel);
    }
    bot.move_motor_linear_no_accel(arr[0][0], arr[0][1], vel);
    bot.pen_up();
    bot.go_home();
}

void square(int dim, double vel=100.0){
  bot.pen_down();
  bot.move_motor_linear(81.5,82+dim, vel);
  bot.move_motor_linear(81.5-dim,82+dim, vel);
  bot.move_motor_linear(81.5-dim, 82, vel);
  bot.go_home();
  bot.move_motor_linear(81.5-dim,82+dim, vel);
  bot.pen_up();
  bot.move_motor_linear(81.5-dim, 82, vel);
  bot.pen_down();
  bot.move_motor_linear(81.5,82+dim, vel);
  bot.pen_up();
  bot.go_home();
}